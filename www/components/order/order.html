<md-toolbar flex>
    <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
        <md-button ng-if="vm.viewMode === 'viewOrder'" ng-hide="vm.showSucseesMessage === true || vm.cardItems.length < 1" class="md-warn md-raised md-hue-1"
            ng-click="vm.sendOrder()">
            שלח הזמנה
        </md-button>
        <md-button ng-if="vm.viewMode === 'newOrder'" class="md-warn md-raised md-hue-1" ng-click="vm.switchMode('view')">
            הצג הזמנה
            <md-badge ng-if="vm.cardCount() > 0">{{vm.cardCount()}}</md-badge>
        </md-button>
        <span flex></span>
        <p>הזמנה</p>
        <md-button ng-if="vm.viewMode === 'viewOrder'" class="md-icon-button" ng-click="vm.switchMode('new')" aria-label="Menu">
            <ng-md-icon icon="arrow_forward" style="fill: white"></ng-md-icon>
        </md-button>
        <md-button ng-if="vm.viewMode === 'newOrder'" class="md-icon-button" ng-click="vm.navigateTo('entry')" aria-label="Menu">
            <ng-md-icon icon="arrow_forward" style="fill: white"></ng-md-icon>
        </md-button>
    </div>
</md-toolbar>


<md-content layout-padding md-scroll-y style="height: 90%" dir="rtl">

    <view-order items="vm.cardItems" order-title="'הזמנה לתאריך ' + vm.currDate" ng-if="vm.viewMode === 'viewOrder' && vm.showErrorMessage === false && vm.showSucseesMessage === false"></view-order>
    
    <new-order ng-if="vm.viewMode === 'newOrder'"></new-order>
    
    <md-card style="width: 100%" layout-margin ng-if="vm.showSucseesMessage === true && vm.viewMode === 'viewOrder'">
        <md-card-title class="management-filter-card-title">
            <ng-md-icon icon="assignment_turned_in" class="message-icon" style="fill: green" size="40"></ng-md-icon>
            <md-card-title-text>
                <h3> ההזמנה נשלחה בהצחלה ! </h3>
            </md-card-title-text>
        </md-card-title>
    </md-card>
    
    <md-card style="width: 100%" layout-margin ng-if="vm.showErrorMessage === true && vm.viewMode === 'viewOrder'">
        <md-card-title class="management-filter-card-title">
            <ng-md-icon icon="error" class="message-icon" style="fill: brown" size="40"></ng-md-icon>
            <md-card-title-text>
                <h3> אירעה שגיאה בשליחת ההזמנה ! </h3>
                <h4>אנא נסה לשלוח שוב</h4>
            </md-card-title-text>
        </md-card-title>
    </md-card>

</md-content>